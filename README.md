## Складна обробка текстових даних засобами оболонки Unix-подібних ОС інтерпретора команд ОС

### 1 Пошук у системних файлах Git-репозиторію

find ./ -type d -o -type f

![2 1 1](https://github.com/OS-IS/ai233-titoraga/assets/162619587/d560f5f0-8d17-45c1-96ea-216644ab0ecc)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/90b4598a-5d81-4a83-8e51-e99c34e652ad)

Рис. 1 - Фрагмент екрану з рішення завдання 2.1.1 "Вивести на екран перелік каталогів та файлів поточного каталогу, а також всіх файлів з підкаталогів (рекомендується використати команду find)".

find ./ -type f -name '*[0-9]*[0-9]'

![2 1 2](https://github.com/OS-IS/ai233-titoraga/assets/162619587/e5a50845-b595-43b9-95e2-c0758e213d23)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/3e9fb246-392f-47bd-9e7a-db415e5d9331)

Рис. 2 - Фрагмент екрану з рішення завдання 2.1.2 "Вивести на екран перелік каталогів або файлів поточного каталогу, назви яких починаються з цифри та завершуються цифрою, а в середині – будь-які символи (рекомендується використати команду find)".

find . | grep -E '[0-9]{3,}'

![2 1 3](https://github.com/OS-IS/ai233-titoraga/assets/162619587/209258e6-3fed-4e79-921b-b8ac6491e9e5)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/6d72f32c-4c01-4900-b256-f3b39b9f243b)

Рис. 3 - Фрагмент екрану з рішення завдання 2.1.3 "Вивести на екран перелік каталогів або файлів, назви яких мають підрядок з не менше ніж трьох цифр (рекомендується використати конвеєр команд find та grep)".

find . | tr '\n' '\0' | sort -z | tr '\0' '\n' | grep -E '[0-9]{3, }'

![2 1 4](https://github.com/OS-IS/ai233-titoraga/assets/162619587/4b2af168-a261-4cf2-8972-000d09448d4d)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/42eddfed-ab4d-4c73-8f5f-89b3b86cbd8a)

Рис. 4 - Фрагмент екрану з рішення завдання 2.1.4 "Повторити виконання попереднього завдання, але лише для назв файлів або назв каталогів, які відокремлено один від одного (рекомендується використати конвеєр команди find та ланцюжка команд «tr, sort, grep» для трансформації назв каталогів та файлів як це було у попередній лабораторній роботі)".

find . -type f | tr -d '\n' | tr -c '[:digit:]' '\n' | sort | uniq

![2 1 5](https://github.com/OS-IS/ai233-titoraga/assets/162619587/257d42db-d805-4126-a650-42fdf2d9b562)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/8ac834bb-e7d9-4f76-a0af-01ee8d36d377)

Рис. 5 - Фрагмент екрану з рішення завдання 2.1.5 "Вивести на екран перелік файлів, назви яких мають лише цифри (рекомендується використати конвеєр команд find, tr, sort, grep)".

find . -type f | tr -d '\n' | tr -c '[:xdigit:]' '\n' | sort | uniq

![2 1 6](https://github.com/OS-IS/ai233-titoraga/assets/162619587/e6654728-bf33-40d4-a70f-70122b4755f9)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/12bd013d-c702-444d-86bd-fb65c241b871)

Рис. 6 - Фрагмент екрану з рішення завдання 2.1.6 "Вивести на екран перелік файлів, назви яких мають лише символи, які пов’язані з шістнадцятирічними цифрами, наприклад, 0-9 та a-f (рекомендується використати конвеєр команд find, tr, sort, grep)."

grep -r "Changed" */* 2>/dev/null

![2 1 7](https://github.com/OS-IS/ai233-titoraga/assets/162619587/10495253-9414-4226-8715-febc36b99208)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/102bca1a-464d-4951-9f75-c5e01dce30da)

Рис. 7 - Фрагмент екрану з рішення завдання 2.1.7 "Вивести на екран рядок, в якому може зберігатися підрядок з коментарем для для команди commit, який починається зі слова «Changed», при цьому потік помилок необхідно перенаправити до спеціального фіктивного пристрою /dev/null (рекомендується використати лише команду grep */* з шаблоном пошуку файлів у каталогах дворівневої глибини)".

grep -rE "[A-Za-z0-9._%+-]+@ [A-Za-z0-9.-]+\.[A-Za-z] [2,6}" */* 2>/dev/null

![2 1 8](https://github.com/OS-IS/ai233-titoraga/assets/162619587/24dbf9ba-844b-4262-8369-a42da91b83bf)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/db5cfebe-abb8-49fd-970b-c2ca9f82ccbc)

Рис. 8 - Фрагмент екрану з рішення завдання 2.1.8 "Вивести на екран рядок, в якому може зберігатися підрядок з електронною поштовою скринькою облікового запису Git-користувача, який виконував команду commit,при цьому необхідно використати шаблон регулярного виразу, який забезпечить пошук будь-яких інших подібних поштових скриньок (рекомендується використати лише команду grep */* з шаблоном пошуку файлів у каталогах дворівневої глибини)".

###  2 Складний пошук та заміна текстових даних

grep -r 'Варіант 23' *

![2 2 1](https://github.com/OS-IS/ai233-titoraga/assets/162619587/58be0039-25a7-4053-aa8d-92e48a8edcb9)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/3b5f18c2-d1bd-4413-8865-ca146ec601de)

Рис. 9 - Фрагмент екрану з рішення завдання 2.2.1 "З отриманого каталогу вивести на екран рядки файлів, в яких є рядок з підрядком з номером вашого варіанту завдання, наприклад, Варіант 0 (рекомендується використати команду grep);".

grep -r 'Варіант 23' * | sed 's/:.*//'

![2 2 2](https://github.com/OS-IS/ai233-titoraga/assets/162619587/315a1a82-c1e3-4c2b-84ee-7174c8c243cf)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/efcb2142-0ddc-45e6-8632-c461082fd683)

Рис. 10 - Фрагмент екрану з рішення завдання 2.2.2 "Модифікувати рішення попереднього завдання, вивівши на екран лише назву файлу без зайвої інформації про рядок файлу (рекомендується використати конвеєр команд grep, sed)".

cp example23n.html /c/Users/Administrator/ai233-titoraga/Laboratory-work-4
cd /c/Users/Administrator/ai233-titoraga/Laboratory-work-4

![2 2 3](https://github.com/OS-IS/ai233-titoraga/assets/162619587/b60e471e-7073-4698-85ed-6ecfbce7a6a7)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/b5651e5b-b177-4f63-9911-30e9fcdceaf0)

Рис. 11 - Фрагмент екрану з рішення завдання 2.2.3 "Скопіювати знайдений файл у каталог «Laboratory-work-4» Git-репозиторія, використовуючи команду cp. Перейти до каталогу «Laboratory-work-4»".

sed  '/^$/d' example23n.html

![2 2 4](https://github.com/OS-IS/ai233-titoraga/assets/162619587/a9ad7e10-9e86-4c83-8f3e-ba1f1026f0aa)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/cbb6b927-e6b5-4119-841d-7b0204ff0744)

Рис. 12 - Фрагмент екрану з рішення завдання 2.2.4 "Вивести на екран вміст знайденого файлу без порожніх рядків (рекомендується використати в подальшому команду sed)".

grep -E '([[:alpha:]]+) ([[:space:]]+)\1' example23n.html

![2 2 5](https://github.com/OS-IS/ai233-titoraga/assets/162619587/fc3ee43a-5327-4511-92d4-290ae8dad980)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/80dce1e2-7ba9-4593-86e5-30fd8a72ab81)

Рис. 13 - Фрагмент екрану з рішення завдання 2.2.5 "Вивести на екран рядки із словами-дублікатами (однакові слова, які йдуть один за одним)".

sed -E 's/<td>([0-9]+)<\/td>/<td>\1.00<\/td>/g' example23n.html

![2 2 6](https://github.com/OS-IS/ai233-titoraga/assets/162619587/8b2bb689-34fe-4d88-b4a4-0fe70e1b1a46)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/3ce626aa-a7f6-4e83-8826-b63bc2255e4e)

Рис. 14 - Фрагмент екрану з рішення завдання 2.2.6 "У файлі HTML-формату є рядки з html-тегами <td> та цілами числами. Вивести на екран ці рядки, перетворюючи цілі числа у числа з плаваючою комою, додавши до підрядка з числом підрядок .00, наприклад, підрядок «10» буде перетворено на «10.00»".

sed 's/<td> [-%.]*<\/td>/<td> </td>/g' example23n.html

![2 2 7](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/73b8b86a-bf46-42cb-a08a-2213bd689e8e)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/bd3f1672-65e8-4fa2-b177-87a0fd00d5f9)

Рис. 15 - Фрагмент екрану з рішення завдання 2.2.7 "У файлі є рядки з html-тегами <td>, які замість чисел містять символи-роздільники (дефіс, відсоток, три крапки). Вивести на екран ці рядки, перетворюючи символи-роздільники на символи прогалини (space)".

sed 's/06'\''єкт/об'\''єкт/д' ехаmple23n.html

![2 2 8](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/beb90ae4-5a97-4f97-812a-d07bd1a93921)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/af76e0f8-3e0a-4686-be7c-b7fbc61ca70c)

Рис. 16 - Фрагмент екрану з рішення завдання 2.2.8 "У файлі є підрядки зі словом "Об'єкт". Вивести на екран це слово, замінивши його перший символ, який є у верхньому регістрі, на символ у нижньому регістрі".

### 3 Автоматизована модифікація файлів з текстовими даними

sed '/<title>/s/[0-9]*$//' example23n.html > titoraga_example.html

![2 3 1](https://github.com/OS-IS/ai233-titoraga/assets/162619587/8e0690dd-bc73-49a0-a4ce-6b8be0add1ce)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/e02be62d-ce4b-4e09-8916-c264f4cedc11)

Рис. 17 - Фрагмент екрану з рішення завдання 2.3.1 "У файлі є рядок з html-тегом <title>. Видалити з цього рядка цифри, які розміщено наприкінці рядка".

sed -i '4a\ <.h1>Таблиця оновлено автоматично. Автор. Тіторага Глеб Сергійович, група АІ-233<\/.h1>' titoraga_example.html

![2 3 2](https://github.com/OS-IS/ai233-titoraga/assets/162619587/9e240157-89c0-4518-8ffc-b516fb461261)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/2385a1ca-b360-4fa1-8d8a-d03f128be45e)

Рис. 18 - Фрагмент екрану з рішення завдання 2.3.2 "У файлі є рядок з html-тегом <title>. Додати після цього рядка новий рядок, який містить наступне: "<.h1>Таблиця оновлено автоматично. Автор - ПІБ, група<./h1>" (рекомендується додати за номером, який заздалегіть визначено попердньою командою sed наприклад, після 4-го рядку)".

sed -i -e '/^$/d' titoraga_example.html

![2 3 3](https://github.com/OS-IS/ai233-titoraga/assets/162619587/05683d43-7777-417f-960f-0d28ca020640)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/5ec58480-0f90-49fd-9779-7ff58a424dc9)

Рис. 19 - Фрагмент екрану з рішення завдання 2.3.3 "Видалити з файлу всі порожні рядки".

sed -E 's/\b([[:alpha:]]+)\b([[:space:]]+)\1\b/\1/g' titoraga_example.html

![2 3 4](https://github.com/OS-IS/ai233-titoraga/assets/162619587/a7beaf4c-77e1-489b-945a-ecdfb0c05cfb)
![image](https://github.com/tobio176/WebAR-Tabulator/assets/162619587/9b1aa71e-88fc-4140-abd3-7ba1ca8fb79a)

Рис. 20 - Фрагмент екрану з рішення завдання 2.3.4 "Видалити з файлу слова-дублікати".

![2 3 5](https://github.com/OS-IS/ai233-titoraga/assets/162619587/623b6af5-cb49-46a2-ba82-737179e3b6aa)

Рис. 21 - Фрагмент екрану з рішення завдання 2.3.5 "Об’єднати команди SED, створені у попередніх завданнях, в окремий текстовий файл з назвою за шаблоном surname.sed, де surname – ваше прізвище латинськими літерами. Виконати утиліту SED з читанням команд зі створенного файлу".

